(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22bd91"],{f15e:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-card",{staticClass:"mx-auto"},[s("v-form",{ref:"form",attrs:{"lazy-validation":"",disabled:e.saving},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card-title",[e._v("Information")]),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{"v-model":e.password,"append-icon":e.value?"mdi-eye":"mdi-eye-off",type:e.value?"password":"text",rules:e.passwordRules,label:"Password",required:""},on:{"click:append":function(){return e.value=!e.value},input:function(t){return e.password=t}}})],1)],1)],1),s("v-card-title",[e._v("Profile")]),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{rules:e.firstNameRules,label:"Firstname",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{rules:e.lastNameRules,label:"Lastname",required:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{rules:e.phoneRules,label:"Phone",required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{"item-value":"id","item-text":"name",items:e.genderItems,label:"Gender",required:""},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.dob,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.dob=t},"update:return-value":function(t){e.dob=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-text-field",e._g(e._b({attrs:{label:"Date of birth","prepend-icon":"mdi-calendar",rules:[e.invalidDOB],readonly:""},model:{value:e.dob,callback:function(t){e.dob=t},expression:"dob"}},"v-text-field",r,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[s("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.dob,callback:function(t){e.dob=t},expression:"dob"}},[s("v-spacer"),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel ")]),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.dob)}}},[e._v(" OK ")])],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{rules:e.universityRules,label:"University",required:""},model:{value:e.university,callback:function(t){e.university=t},expression:"university"}})],1)],1)],1),s("v-card-title",[e._v("Job")]),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-select",{attrs:{"item-value":"id","item-text":"name",items:e.statusItems,rules:e.statusRules,label:"Status",required:""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-select",{attrs:{"item-value":"id","item-text":"name",items:e.teamItems,rules:e.teamRules,label:"Team",required:""},model:{value:e.team,callback:function(t){e.team=t},expression:"team"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-select",{attrs:{"item-value":"id","item-text":"name",items:e.skillItems,rules:[e.required],label:"Skills",multiple:"","small-chips":"","deletable-chips":"",clearable:"","hide-selected":"","menu-props":{top:!1,offsetY:!0}},model:{value:e.skills,callback:function(t){e.skills=t},expression:"skills"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-select",{attrs:{"item-value":"id","item-text":"name",items:e.rolesList,rules:[e.required],label:"Roles",multiple:"","small-chips":"","deletable-chips":"",clearable:"","hide-selected":"","menu-props":{top:!1,offsetY:!0},disabled:""},model:{value:e.roles,callback:function(t){e.roles=t},expression:"roles"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-select",{attrs:{"item-value":"id","item-text":"name",items:e.permissionsList,label:"Permissions",multiple:"","small-chips":"","deletable-chips":"",clearable:"","hide-selected":"","menu-props":{top:!1,offsetY:!0}},model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}})],1)],1),s("v-checkbox",{attrs:{rules:e.checkboxRules,label:"Do you agree?",required:""},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}})],1),s("v-card-actions",[s("v-btn",{staticClass:"mr-4",attrs:{loading:e.saving,disabled:e.saving},on:{click:function(t){return e.saveCreate()}}},[e._v(" Save ")]),s("v-btn",{attrs:{disabled:e.saving},on:{click:e.clear}},[e._v(" Clear ")])],1)],1)],1)],1)},r=[],i=s("53ca"),n=s("1da1"),l=s("5530"),o=(s("96cf"),s("d81d"),s("b64b"),s("2f62")),c=s("c9d9"),u=s("1490"),m={data:function(){return{valid:!0,email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"},function(e){return e&&e.length>=15||"E-mail must be at least 15 characters"},function(e){return e&&e.length<=50||"E-mail must not be greater than 50 characters"}],value:!0,password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"Password must be at least 6 characters"}],phone:"",phoneRules:[function(e){return!!e||"Phone is required"},function(e){return/^\d{10}$/.test(e)||"Phone is invalid"}],firstName:"",firstNameRules:[function(e){return!!e||"Firstname is required"},function(e){return/^[A-Za-z]+$/.test(e)||"Firstname can't contain numbers or special characters"},function(e){return e&&e.length<=20||"Firstname must be less than 20 characters"}],lastName:"",lastNameRules:[function(e){return!!e||"Lastname is required"},function(e){return/^[A-Za-z]+$/.test(e)||"Lastname can't contain numbers or special characters"},function(e){return e&&e.length<=20||"Lastname must be less than 20 characters"}],menu:!1,gender:1,dob:(new Date).toISOString().substr(0,10),university:"",universityRules:[function(e){return!!e||"University is required"},function(e){return e&&e.length>=5||"University must be at least 5 characters"}],status:null,statusRules:[function(e){return!!e||"Status is required"}],team:null,teamRules:[function(e){return!!e||"Team is required"}],skills:[],roles:[{id:4,name:"Employee"}],permissions:[],checkbox:!1,checkboxRules:[function(e){return!!e||"You must agree to continue!"}],saving:!1}},mounted:function(){this.setBreadcrumb([{title:"Employee",route:"employeeListing"},{title:"Create"}]),this.getRolesList(),this.getPermissionsList()},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(o["d"])("role/getAll",["rolesList","loading"])),Object(o["d"])("permission/getAll",["permissionsList","loading"])),Object(o["d"])("employee/create",["error","loading"])),{},{genderItems:function(){return Object.keys(c["a"]).map((function(e){return{id:c["a"][e],name:Object(u["c"])(e)}}))},statusItems:function(){return Object.keys(c["c"]).map((function(e){return{id:c["c"][e],name:Object(u["c"])(e)}}))},teamItems:function(){return Object.keys(c["d"]).map((function(e){return{id:c["d"][e],name:Object(u["b"])(e)}}))},skillItems:function(){return Object.keys(c["b"]).map((function(e){return{id:c["b"][e],name:Object(u["a"])(e)}}))}}),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(o["b"])("breadcrumbs",["setBreadcrumb"])),Object(o["b"])("role/getAll",["getAllRoles"])),Object(o["b"])("permission/getAll",["getAllPermissions"])),Object(o["b"])("employee/create",["create"])),{},{required:function(e){return e instanceof Array&&0==e.length?"This field is required":!!e||"This field is required"},invalidDOB:function(e){var t=new Date("2005-01-01"),s=new Date(e);return s>t?"DOB must be a date before 01-01-2005":!!e||"DOB is invalid"},getRolesList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllRoles({key:null,itemsPerPage:-1});case 2:case"end":return t.stop()}}),t)})))()},getPermissionsList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllPermissions();case 2:case"end":return t.stop()}}),t)})))()},clear:function(){this.$refs.form.resetValidation()},saveCreate:function(){var e=this;if(this.valid=this.$refs.form.validate(),"object"===Object(i["a"])(this.skills[0])&&(this.skills=this.skills.map((function(e){return e.id}))),"object"===Object(i["a"])(this.permissions[0])&&(this.permissions=this.permissions.map((function(e){return e.id}))),this.valid){this.saving=!0;var t={email:this.email,password:this.password,phone:this.phone,first_name:this.firstName,last_name:this.lastName,gender:this.gender,dob:this.dob,university:this.university,status:this.status,team_id:this.team,skills:this.skills,permission_id:this.permissions};setTimeout(Object(n["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.create(t);case 2:a=s.sent,a?(e.$notify({title:"Create new employee successfully!",type:"success"}),e.$router.push({name:"employeeListing"})):e.$notify({title:"Create new employee failed!",text:e.error,type:"error"}),e.saving=!1;case 5:case"end":return s.stop()}}),s)}))),2e3)}}})},d=m,b=s("2877"),v=s("6544"),f=s.n(v),p=s("8336"),h=s("b0af"),k=s("99d9"),x=s("ac7c"),g=s("62ad"),y=s("a523"),w=s("2e4b"),O=s("4bd4"),j=s("e449"),R=s("0fd9"),q=s("b974"),V=s("2fa4"),C=s("8654"),_=Object(b["a"])(d,a,r,!1,null,null,null);t["default"]=_.exports;f()(_,{VBtn:p["a"],VCard:h["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCheckbox:x["a"],VCol:g["a"],VContainer:y["a"],VDatePicker:w["a"],VForm:O["a"],VMenu:j["a"],VRow:R["a"],VSelect:q["a"],VSpacer:V["a"],VTextField:C["a"]})}}]);
//# sourceMappingURL=chunk-2d22bd91.2f0a4f16.js.map