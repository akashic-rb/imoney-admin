(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7aa9a6e"],{1490:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));a("a15b"),a("d81d"),a("ac1f"),a("1276"),a("d3b7"),a("25f0"),a("7db0"),a("b64b");function n(e){return e.split("").map((function(e,t){return 0!==t?e.toLowerCase():e.toUpperCase()})).join("")}function i(e){return e.length>2?e.split("").map((function(e,t){return 0!==t?e.toLowerCase():e.toUpperCase()})).join(""):e.toString().toUpperCase()}function o(e){return e.split("_").map((function(e){return e.split("").map((function(e,t){return 0!==t?e.toLowerCase():e.toUpperCase()})).join("")})).join(" ")}},"42d2":function(e,t,a){},6086:function(e,t,a){"use strict";a("42d2")},c9d9:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return r}));var n={FEMALE:0,MALE:1},i={INTERNSHIP:1,TRANSIT:2,PROBATIONARY:3,OFFICIAL:4},o={WEB:2,MOBILE:3,GAME:4,SERVER:5,QC:6,BA:7,PM:8},r={NODE_JS:1,PHP:2,MYSQL:3,ANGULAR_JS:4,VUE_JS:5,NUXT_JS:6,SWIFT:7,GOLANG:8,FLUTTER:9,OTHER:10}},e280:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.data,options:e.options,"server-items-length":e.total,loading:e.loading,"loading-text":"Loading... Please wait"},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Employees Listing")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-row",{staticClass:"mt-4"},[a("v-col",{attrs:{md:"6"}},[a("v-autocomplete",{attrs:{outlined:"","auto-select-first":"",chips:"",clearable:"","deletable-chips":"",dense:"","prepend-inner-icon":"mdi-filter",placeholder:"Filter by team","item-value":"id","item-text":"name",items:e.teamItems},on:{change:e.filterAndSearchEmployee},model:{value:e.team,callback:function(t){e.team=t},expression:"team"}})],1)],1),a("v-spacer"),a("v-text-field",{staticClass:"expanding-search mt-4 mr-2 shrink",class:{closed:e.searchClosed&&!e.key},attrs:{color:"teal",placeholder:"Name/Phone/Email","prepend-inner-icon":"mdi-account-search",filled:"",dense:"",clearable:""},on:{focus:function(t){e.searchClosed=!1},blur:function(t){e.searchClosed=!0},change:e.filterAndSearchEmployee},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}}),a("router-link",{attrs:{to:{name:"employeeCreating"}}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"teal",dark:""}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-account-plus")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this employee?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:e.deleting},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.deleting,disabled:e.deleting},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)]},proxy:!0},{key:"item.fullName",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.profile.firstName)+" "+e._s(a.profile.lastName)+" ")]}},{key:"item.dob",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.profile.dob)+" ")]}},{key:"item.gender",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.profile.gender)+" ")]}},{key:"item.team",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.team.name)+" ")]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"teal"},on:{click:function(t){return e.editItem(n)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"teal"},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)},i=[],o=a("1da1"),r=a("5530"),l=(a("96cf"),a("d81d"),a("b64b"),a("a434"),a("2f62")),s=a("c9d9"),c=a("1490"),d={data:function(){return{valid:!0,options:{page:1},headers:[{text:"Fullname",align:"start",value:"fullName"},{text:"DOB",value:"dob"},{text:"Gender",value:"gender",sortable:!1},{text:"Email",value:"email"},{text:"Phone",value:"phone"},{text:"Status",value:"status",sortable:!1},{text:"Team",value:"team"},{text:"Actions",value:"actions",sortable:!1}],employee:null,loading:!1,dialogDelete:!1,deletedIndex:-1,deleting:!1,key:"",searchClosed:!0,team:""}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["d"])("employee/getAll",{data:"data",employeesListLoading:"loading",total:"total"})),Object(l["d"])("employee/destroy",{error:"error",destroyLoading:"loading"})),{},{teamItems:function(){return Object.keys(s["d"]).map((function(e){return{id:s["d"][e],name:Object(c["b"])(e)}}))}}),mounted:function(){this.setBreadcrumb([{title:"Employee",route:"employeeListing"},{title:"List"}])},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["b"])("breadcrumbs",["setBreadcrumb"])),Object(l["b"])("employee/getAll",["getAll"])),Object(l["b"])("employee/destroy",["destroy"])),{},{getDataFromApi:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e.options,n=a.page,i=a.sortBy,o=a.sortDesc,r=a.itemsPerPage,t.next=4,e.getAll({key:e.key,team:e.team,sortBy:i[0],sortDesc:o[0],page:n,itemsPerPage:r});case 4:e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.$router.push({name:"employeeEditing",params:{id:e.id}})},deleteItem:function(e){this.deletedIndex=this.data.indexOf(e),this.employee=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;this.deleting=!0,setTimeout(Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(e.employee.id);case 2:a=t.sent,a?(e.$notify({title:"Delete employee successfully!",type:"success"}),e.data.splice(e.deletedIndex,1)):e.$notify({title:"Delete employee failed!",text:e.error,type:"error"}),e.deleting=!1,e.closeDelete();case 6:case"end":return t.stop()}}),t)}))),2e3)},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.employee=null,e.deletedIndex=-1}))},searchRole:function(){1!==this.options.page&&(this.options.page=1),this.getDataFromApi()},required:function(e){return e instanceof Array&&0==e.length?"This field is required":!!e||"This field is required"},filterAndSearchEmployee:function(){1!==this.options.page&&(this.options.page=1),this.getDataFromApi()}})},u=d,m=(a("6086"),a("2877")),p=a("6544"),f=a.n(p),b=a("c6a6"),v=a("8336"),g=a("b0af"),h=a("99d9"),y=a("62ad"),x=a("8fea"),k=a("169a"),C=a("ce7e"),O=a("132d"),A=a("0fd9"),_=a("2fa4"),j=a("8654"),D=a("71d9"),E=a("2a7f"),w=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=w.exports;f()(w,{VAutocomplete:b["a"],VBtn:v["a"],VCard:g["a"],VCardActions:h["a"],VCardTitle:h["c"],VCol:y["a"],VDataTable:x["a"],VDialog:k["a"],VDivider:C["a"],VIcon:O["a"],VRow:A["a"],VSpacer:_["a"],VTextField:j["a"],VToolbar:D["a"],VToolbarTitle:E["a"]})}}]);
//# sourceMappingURL=chunk-a7aa9a6e.f784b47a.js.map